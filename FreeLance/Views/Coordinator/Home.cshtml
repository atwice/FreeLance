@using System.Web.UI.HtmlControls
@model FreeLance.Controllers.CoordinatorController.HomeViewModel
@{
    ViewBag.Title = "Личный кабинет";
	ViewBag.MenuPick = "Home";
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Coordinator's Home</title>
</head>
<body>
<div class="row">
    <div class="col-md-6">
        <h2>Новые контракты <span class="badge">@Model.ContractsList.Count</span></h2> 
        @if (Model.ContractsList.Count == 0)
        {
            <p>Вы в курсе всех новых контрактов. </p>
        }
        else
        {
            foreach (var contract in Model.ContractsList.GetRange(0, 2))
             {
                 Html.RenderPartial("~/Views/Contract/SmallView.cshtml", contract);
             }
        }
        <h2>Ожидают выплаты <span class="badge">@Model.ContractsToPay.Count</span></h2>
@if (Model.ContractsToPay.Count == 0)
{
    <p> Нет контрактов, ожидающих выплаты.  </p>
}
else
{
    foreach (var contract in Model.ContractsToPay.GetRange(0, 1))
     {
         Html.RenderPartial("~/Views/Contract/SmallView.cshtml", contract);
     }
}
    </div>
    <div class="col-md-6">
        <h2>Новые работодатели <span class="badge">@Model.NewEmployers.Count</span> </h2>
        @if (Model.NewEmployers.Count == 0)
        {
            <p>Все работодатели подтверждены. Так держать! </p>
        }
        else
        {
            foreach (var employer in Model.NewEmployers.GetRange(0, 1))
            {
                Html.RenderPartial("~/Views/Employer/SmallViewCoordinatorHome.cshtml", employer);
            }
        }
        <h2>Новые пользователи <span class="badge">@Model.NewFreelancers.Count</span> </h2>
@if (Model.NewFreelancers.Count == 0)
{
    <p>Все новые фрилансеры подтверждены. Замечательно! </p>
}
else
{
    foreach (var freelancer in Model.NewFreelancers.GetRange(0, 1))
     {
         Html.RenderPartial("~/Views/Employer/SmallViewCoordinatorHome.cshtml", freelancer);
     }
}
        <h2>Документы на проверку <span class="badge">@Model.DocumetsUnapproved.Count</span></h2>
        @if (Model.DocumetsUnapproved.Count == 0)
        {
            <p>Все документы фрилансеров подтверждены. Отличная работа!</p>
        }
        else
        {
            foreach (var doc in Model.DocumetsUnapproved.GetRange(0, 1))
            {
                Html.RenderPartial("~/Views/Freelancer/DocumentSmallView.cshtml", doc);
            }
        }
        <h2>Новые отзывы <span class="badge">@Model.ContractWithComments.Count</span></h2>
        @if (Model.ContractWithComments.Count == 0)
        {
            <p>Все отзывы прочитаны.</p>
        }
        else
        {
            foreach (var contract in Model.ContractWithComments.GetRange(0, 1))
            {
                Html.RenderPartial("~/Views/Comment/SmallViewCoordinator.cshtml", contract);
            }
        }
    </div>
</div>
<hr/>
@*<div class="col-md-10">*@
@*    <h2>@ViewBag.Title</h2>*@
@*    <h3>Анкеты на подтверждение</h3>*@
@*    <div class="list-group">*@
@*        @if (Model.IncognitosSmallList.Count == 0)*@
@*        {*@
@*            <h5>Все заявки подтверждены. Отличная работа!</h5>*@
@*        }*@
@*        else*@
@*        {*@
@*            foreach (var incognito in Model.IncognitosSmallList)*@
@*            {*@
@*                <div class="list-group-item">*@
@*                    @using (Html.BeginForm("IncognitoToFreelancer", "Coordinator", new {usernameID = incognito.Id, redirect = "Home"}))*@
@*                    {*@
@*                        <input type="submit" value="Допустить в систему" class="pull-right btn btn-success"/>*@
@*                    }*@
@**@
@*                    <h4 class="list-group-item-heading">@incognito.FIO</h4>*@
@*                    <p class="list-group-item-text" style="color: lightgray"><i>@incognito.Email</i>*@
@*                    </p>*@
@*                    <p class="list-group-item-text" style="color: lightgray"><i>@incognito.PhoneNumber</i>*@
@*                    </p>*@
@*                </div>*@
@*            }*@
@*            if (ViewBag.ManyIncognitos)*@
@*            {*@
@*                <div class="list-group-item">*@
@*                    <h4 class="list-group-item-heading" align="center">...</h4>*@
@*                </div>*@
@*            }*@
@*        }*@
@*    </div>*@
@**@
@*    <h3>Документы на подтверждение</h3>*@
@*    <div class="list-group">*@
@*        @if (Model.WithoutDocumentsSmallList.Count == 0)*@
@*        {*@
@*            <h5>У всех фрилансеров подтверждены документы. Отличная работа!</h5>*@
@*        }*@
@*        else*@
@*        {*@
@*            foreach (var withoutDoc in Model.WithoutDocumentsSmallList)*@
@*            {*@
@*                <div class="list-group-item">*@
@*                    @using (Html.BeginForm("ViewFreelancerDocuments", "Coordinator", new {userId = withoutDoc.Id}))*@
@*                    {*@
@*                        <input type="submit" value="Проверить документы" class="pull-right btn btn-success"/>*@
@*                    }*@
@*                    <h4 class="list-group-item-heading">@withoutDoc.FIO</h4>*@
@*                    <p class="list-group-item-text" style="color: lightgray"><i>@withoutDoc.Email</i>*@
@*                    </p>*@
@*                    <p class="list-group-item-text" style="color: lightgray"><i>@withoutDoc.PhoneNumber</i>*@
@*                    </p>*@
@*                </div>*@
@*            }*@
@*            if (ViewBag.ManyWithoutDocuments)*@
@*            {*@
@*                <div class="list-group-item">*@
@*                    <h4 class="list-group-item-heading" align="center">...</h4>*@
@*                </div>*@
@*            }*@
@*        }*@
@*    </div>*@
@*</div>*@
@*</body>*@
@*</html>*@
